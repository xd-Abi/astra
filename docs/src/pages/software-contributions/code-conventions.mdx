# Code Conventions

## Next.js Code Convention

## Variables

In the AppFlowy codebase, we prioritize variable immutability and consistency to enhance code quality and maintainability. 

- Prefer declaring variables as immutable.
- Use the `const` keyword for immutable variables.
- Specify the type for immutable variables consistently throughout your code.

By adhering to these principles, we create a codebase that is not only functional but also comprehensible and maintainable for all team members.

## Use Cascade Notation

Cascade notation allows you to perform a sequence of operations on the same object, reducing the number of steps and the need for temporary variables.

```jsx
// Example in Next.js
const router = useRouter();

// Bad - Without Cascade Notation
router.push('/page1');
router.push('/page2');
router.push('/page3');

// Good - With Cascade Notation
router
  .push('/page1')
  .push('/page2')
  .push('/page3');
```

## Use Expression Bodies

For functions that contain just one expression, use an expression function. The arrow (`=>`) notation is used for expression functions.

```jsx
// Good
const handleClick = () => performAction(someValue);

// Bad
const handleClick = () => {
  performAction(someValue);
};
```

## Inline TODOs

While developing, feel free to add TODOs, but try to resolve them before opening a PR. If the TODOs need more attention or are complex, consider opening an issue on GitHub instead of keeping inline TODOs.

# C++ Code Convention

## Variables

In the AppFlowy C++ codebase, variable immutability and consistency are crucial for code quality and maintainability.

- Prefer declaring variables as `const` whenever possible.
- Specify the type for variables consistently throughout your code.

By adhering to these principles, we ensure a codebase that is functional, comprehensible, and maintainable for all team members.

## Use Cascade Notation

Cascade notation is not a common pattern in C++, but when applicable, try to chain method calls on the same object to improve code readability.

```cpp
// Example in C++
std::vector<int> numbers;

// Bad - Without Cascade Notation
numbers.push_back(1);
numbers.push_back(2);
numbers.push_back(3);

// Good - With Cascade Notation
numbers
    .push_back(1)
    .push_back(2)
    .push_back(3);
```

## Use Expression Bodies

For functions that contain just one expression, use an expression function.

```cpp
// Good
int calculateSquare(int x) => x * x;

// Bad
int calculateSquare(int x) {
    return x * x;
}
```

## Inline TODOs

Avoid including inline TODOs in the codebase. While developing, feel free to add TODOs, but try to resolve them before opening a PR. If the TODOs need more attention or are complex, consider opening an issue on GitHub instead of keeping inline TODOs.
